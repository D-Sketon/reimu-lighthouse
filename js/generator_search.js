$(document).ready((()=>{let e=$("#reimu-search-input"),t=$("#reimu-hits"),a=$("#reimu-pagination"),i=1;function n(e,a,i){t.empty();let n=(a-1)*i,o=n+i;e.slice(n,o).forEach((e=>{t.append('<a href="'+e.url+'" class="reimu-hit-item-link">'+e.title+"</a>")}))}e.append('<form id="search-form"><input type="text" id="search-text"></form>'),$.getJSON("/search.json",(e=>{$("#search-form").on("submit",(o=>{o.preventDefault();let s=$("#search-text").val();if(t.empty(),a.empty(),s){let t=e.filter((e=>e.title&&e.title.toLowerCase().includes(s.toLowerCase())||e.content&&e.content.toLowerCase().includes(s.toLowerCase()))),o=Math.ceil(t.length/10);a.append('<ul class="ais-Pagination-list pagination">');for(let e=1;e<=o;e++){let t=$('<li class="ais-Pagination-item pagination-item ais-Pagination-item--page"><a class="ais-Pagination-link page-number" aria-label="Page '+e+'" href="#">'+e+"</a></li>");e===i&&t.addClass("ais-Pagination-item--selected current"),a.find("ul").append(t)}$(".page-number").click((function(e){e.preventDefault(),i=$(this).text(),$(".ais-Pagination-item").removeClass("ais-Pagination-item--selected current"),$(this).parent().addClass("ais-Pagination-item--selected current"),n(t,i,10)})),n(t,i,10)}}))})),$(".popup-trigger").on("click",(e=>{e.stopPropagation(),$("body").append('<div class="popoverlay">').css("overflow","hidden"),$(".popup").toggle(),$("#search-text").focus()})),$(".popup-btn-close").click((()=>{$(".popup").hide(),$(".popoverlay").remove(),$("body").css("overflow","")}))}));